<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMTEC Command | Thesis D.934</title>
    <style>
        :root {
            --bg-color: #0d1117;
            --card-bg: #161b22;
            --column-bg: rgba(22, 27, 34, 0.3);
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;

            /* Five Elements (O-Haeng) Colors - IMTEC */
            --fire-red: #ff7b72;
            /* I - Introduction */
            --earth-yellow: #d29922;
            /* M - Movement */
            --metal-white: #f0f6fc;
            /* T - Traps */
            --water-blue: #58a6ff;
            /* E - Escape */
            --wood-green: #3fb950;
            /* C - Commit */

            --border-color: #30363d;
            --font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

            /* State Colors */
            --state-bet: #79c0ff;
            --state-action: #d29922;
            --state-recal: #ff7b72;
            --state-locked: #238636;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-primary);
            font-family: var(--font-family);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* HEADER */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
            z-index: 20;
            background: var(--bg-color);
        }

        h1 {
            font-size: 1.2rem;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 3px;
            background: linear-gradient(90deg, var(--fire-red), var(--earth-yellow), var(--water-blue));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stats {
            display: flex;
            gap: 20px;
            font-size: 0.85rem;
            color: var(--text-secondary);
            align-items: center;
        }

        .stat-item {
            border: 1px solid var(--border-color);
            padding: 4px 10px;
            border-radius: 4px;
        }

        /* WORKSPACE & GRID */
        .workspace {
            display: flex;
            flex-grow: 1;
            overflow: hidden;
            position: relative;
        }

        .main-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            flex-grow: 1;
            overflow-y: auto;
            position: relative;
            z-index: 5;
            padding: 10px;
            min-width: 1400px;
        }

        #connections {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
            filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.8));
        }

        /* COLUMNS */
        .module-column {
            background-color: var(--column-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            position: relative;
            height: 100%;
        }

        .module-header {
            padding: 15px;
            text-align: center;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 1.2rem;
            border-bottom: 2px solid;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.05) 0%, rgba(0, 0, 0, 0) 100%);
        }

        /* Module Specific Colors */
        .mod-i .module-header {
            border-color: var(--fire-red);
            color: var(--fire-red);
        }

        .mod-m .module-header {
            border-color: var(--earth-yellow);
            color: var(--earth-yellow);
        }

        .mod-t .module-header {
            border-color: var(--metal-white);
            color: var(--metal-white);
        }

        .mod-e .module-header {
            border-color: var(--water-blue);
            color: var(--water-blue);
        }

        .mod-c .module-header {
            border-color: var(--wood-green);
            color: var(--wood-green);
        }

        .submodules-list {
            padding: 15px;
            flex-grow: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        /* Killer Figures */
        .killer-figure {
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid var(--border-color);
        }

        .killer-figure img {
            width: 100%;
            height: auto;
            border-radius: 6px;
            opacity: 0.9;
            transition: opacity 0.2s, transform 0.2s;
            cursor: pointer;
        }

        .killer-figure img:hover {
            opacity: 1;
            transform: scale(1.02);
        }

        .killer-figure .caption {
            font-size: 0.65rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 6px;
            font-style: italic;
        }

        /* CARDS */
        .submodule-card {
            background-color: #1c2128;
            border: 1px solid var(--border-color);
            border-left: 4px solid transparent;
            border-radius: 6px;
            padding: 12px;
            cursor: pointer;
            position: relative;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 15;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        .submodule-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.5);
            z-index: 50;
        }

        /* Card Borders */
        .mod-i .submodule-card {
            border-left-color: var(--fire-red);
        }

        .mod-m .submodule-card {
            border-left-color: var(--earth-yellow);
        }

        .mod-t .submodule-card {
            border-left-color: var(--metal-white);
        }

        .mod-e .submodule-card {
            border-left-color: var(--water-blue);
        }

        .mod-c .submodule-card {
            border-left-color: var(--wood-green);
        }

        .sm-id {
            font-weight: 900;
            font-size: 0.8rem;
            opacity: 0.8;
            margin-right: 8px;
        }

        .sm-focus {
            font-weight: 600;
            font-size: 0.95rem;
            display: block;
            margin-top: 5px;
        }

        .sm-range {
            float: right;
            font-family: 'Courier New', monospace;
            font-size: 0.7rem;
            opacity: 0.5;
        }

        .submodule-card.expanded {
            background-color: #252a33;
            border-color: var(--text-secondary);
        }

        .agent-context {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.8rem;
            display: none;
        }

        .submodule-card.expanded .agent-context {
            display: block;
            animation: slideDown 0.2s;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Buttons */
        .btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            padding: 4px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.75rem;
            transition: all 0.2s;
        }

        .btn:hover {
            background: var(--text-primary);
            color: var(--bg-color);
        }

        .action-bar {
            display: flex;
            gap: 8px;
            margin-top: 10px;
        }

        /* Side Panel */
        .side-panel {
            min-width: 320px;
            width: 320px;
            background: #11141a;
            border-left: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            z-index: 20;
        }

        .protocol-section {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .panel-header {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            margin-bottom: 15px;
            letter-spacing: 1px;
            font-weight: 700;
        }

        /* Protocol Items */
        .protocol-item {
            margin-bottom: 15px;
        }

        .protocol-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
        }

        .claim-sync-box {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
            padding: 8px;
            font-family: monospace;
            font-size: 0.75rem;
        }

        .sync-tag {
            color: var(--state-locked);
            font-weight: bold;
        }

        .sync-badge {
            display: inline-block;
            padding: 1px 4px;
            border-radius: 2px;
            background: rgba(35, 134, 54, 0.2);
            color: var(--state-locked);
            font-size: 0.65rem;
            margin-right: 2px;
        }

        /* PC State Bars */
        .pc-row {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 0.8rem;
        }

        .pc-id {
            width: 30px;
            font-weight: bold;
            color: var(--text-secondary);
        }

        .pc-bar-container {
            flex-grow: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin: 0 10px;
            overflow: hidden;
        }

        .pc-bar {
            height: 100%;
            border-radius: 3px;
        }

        .pc-status {
            font-size: 0.7rem;
            width: 50px;
            text-align: right;
            font-weight: bold;
        }

        /* Queue */
        .patch-queue {
            flex-grow: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .patch-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            margin-bottom: 8px;
            font-size: 0.85rem;
            cursor: pointer;
        }

        .patch-item:hover {
            border-color: var(--earth-yellow);
            background: rgba(210, 153, 34, 0.1);
        }

        .patch-agent {
            color: var(--earth-yellow);
            font-weight: bold;
            font-size: 0.7rem;
            margin-bottom: 3px;
        }

        /* Sub-Agent Task Registry */
        .registry-section {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            max-height: 280px;
            overflow-y: auto;
        }

        .registry-table {
            width: 100%;
            font-size: 0.7rem;
            border-collapse: collapse;
        }

        .registry-table th {
            text-align: left;
            color: var(--text-secondary);
            font-weight: 600;
            padding: 4px 6px;
            border-bottom: 1px solid var(--border-color);
        }

        .registry-table td {
            padding: 4px 6px;
            border-bottom: 1px solid rgba(48, 54, 61, 0.5);
        }

        .registry-table tr:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        .status-locked {
            color: var(--wood-green);
            font-weight: bold;
        }

        .status-active {
            color: var(--earth-yellow);
            font-weight: bold;
        }

        .status-pending {
            color: var(--text-secondary);
        }

        /* Roles & Highlights */
        .submodule-card.strategic-anchor {
            border-width: 2px;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.05);
        }

        .submodule-card.role-gm {
            border: 2px solid var(--fire-red);
            box-shadow: 0 0 25px rgba(255, 123, 114, 0.4);
        }

        .submodule-card.role-pm {
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        }

        .shroud {
            opacity: 0.2;
            transition: opacity 0.2s;
        }

        .highlight-team {
            opacity: 1 !important;
            transform: scale(1.02);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
            z-index: 30;
        }
    </style>
    <script>
        function toggleExpand(event, card) {
            if (event.target.closest('.btn')) return;
            card.classList.toggle('expanded');
        }

        // Governance Map: Two Rooms + Door (based on hand-drawn diagram)
        // PROBLEM ROOM: I1=M3 (governor) â†’ M12, M45 â†’ T1234
        // SOLUTION ROOM: E234 â†’ C1
        // DOOR: E1 (bridge between rooms)
        // LOOP: C3 â†’ I1 (coda returns to beginning)
        // WINDOW: C2 (limitations, external)
        // MINIMAL: Only 3 key bridges (matching hand-drawn diagram)
        const governanceMap = {
            // 1. I1 = M3 (same governing node)
            "card-I1": [['card-M3', '--fire-red']],

            // 2. DOOR: T4 â†’ E1 (Problem â†’ Solution)
            "card-T4": [['card-E1', '--water-blue']],

            // 3. LOOP: C3 â†’ I1 (Coda returns)
            "card-C3": [['card-I1', '--wood-green']]
        };

        function setupMatrixInteraction() {
            renderProtocolPanel();
            drawFullTree();
            document.querySelectorAll('.submodule-card').forEach(card => {
                card.addEventListener('mouseenter', () => focusBranch(card.id));
                card.addEventListener('mouseleave', drawFullTree);
            });
        }

        function drawFullTree() {
            const svg = document.getElementById('connections');
            if (!svg) return;
            svg.innerHTML = '';
            document.querySelectorAll('.submodule-card').forEach(c => {
                c.classList.remove('shroud');
                c.classList.remove('highlight-team');
            });
            Object.keys(governanceMap).forEach(id => drawBranch(id, svg, false));
            svg.style.opacity = '0.6';
        }

        function focusBranch(activeId) {
            const svg = document.getElementById('connections');
            if (!svg) return;
            svg.innerHTML = '';
            document.querySelectorAll('.submodule-card').forEach(c => c.classList.add('shroud'));
            svg.style.opacity = '1.0';

            const el = document.getElementById(activeId);
            if (el) { el.classList.remove('shroud'); el.classList.add('highlight-team'); }

            if (governanceMap[activeId]) drawBranch(activeId, svg, true);

            // Highlight incoming
            Object.keys(governanceMap).forEach(parentId => {
                if (governanceMap[parentId].some(t => t[0] === activeId)) {
                    const pEl = document.getElementById(parentId);
                    if (pEl) { pEl.classList.remove('shroud'); pEl.classList.add('highlight-team'); }
                    drawBranch(parentId, svg, true);
                }
            });
        }

        function drawBranch(startId, svg, animate) {
            const targets = governanceMap[startId];
            if (!targets) return;
            const startEl = document.getElementById(startId);
            if (!startEl) return;

            const svgRect = svg.getBoundingClientRect();
            const startRect = startEl.getBoundingClientRect();
            const x1 = (startRect.right - svgRect.left) - 5;
            const y1 = (startRect.top + startRect.height / 2) - svgRect.top;

            targets.forEach(([endId, colorVar]) => {
                const endEl = document.getElementById(endId);
                if (!endEl) return;

                if (animate) { endEl.classList.remove('shroud'); endEl.classList.add('highlight-team'); }

                const endRect = endEl.getBoundingClientRect();
                const x2 = (endRect.left - svgRect.left) + 5;
                const y2 = (endRect.top + endRect.height / 2) - svgRect.top;

                const dist = Math.abs(x2 - x1);
                const d = `M ${x1} ${y1} C ${x1 + dist * 0.5} ${y1}, ${x2 - dist * 0.5} ${y2}, ${x2} ${y2}`;

                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('d', d);
                path.setAttribute('stroke', `var(${colorVar})`);
                path.setAttribute('stroke-width', animate ? '4' : '2');
                path.setAttribute('stroke-opacity', animate ? '1' : '0.4');
                path.setAttribute('fill', 'none');
                if (animate) {
                    path.style.strokeDasharray = "1000";
                    path.style.strokeDashoffset = "1000";
                    path.style.animation = "dash 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards";
                }
                svg.appendChild(path);
            });
        }

        function openFile(path) {
            console.log('Opening: ' + path);
            window.open(path, '_blank');
            navigator.clipboard.writeText(path).then(() => {
                const msg = document.createElement('div');
                msg.textContent = 'ğŸ“„ Opened & Copied: ' + path;
                Object.assign(msg.style, {
                    position: 'fixed', bottom: '20px', right: '20px',
                    background: '#238636', color: 'white', padding: '10px 20px',
                    borderRadius: '5px', zIndex: 1000, animation: 'fadeOut 2s forwards 1s'
                });
                document.body.appendChild(msg);
                setTimeout(() => msg.remove(), 3000);
            }, () => alert('Could not copy path: ' + path));
        }

        const protocolData = {
            claims: [
                // M Module: Movement Matters (dG/dM > 0)
                { name: "MOVEMENT v1", status: "OK", modules: ["M"], thesisModule: "M", desc: "dG/dM > 0" },
                { name: "FUNDING v1", status: "OK", modules: ["M"], thesisModule: "M", desc: "dM/dE < 0" },
                // T Module: Funding Traps (WHY)
                { name: "TRAP_DEF v2", status: "OK", modules: ["T"], thesisModule: "T", desc: "High-V & Low-V" },
                // E Module: Escape Routes (HOW)
                { name: "ESCAPE v1", status: "OK", modules: ["E"], thesisModule: "E", desc: "Agile vs Forced" }
            ],
            pcStates: [
                { id: "PROBLEM", state: "LOCKED", progress: 100, desc: "I1=M3 â†’ M12, M45, T1234" },
                { id: "SOLUTION", state: "LOCKED", progress: 100, desc: "E234 â†’ C1" },
                { id: "LOOP", state: "LOCKED", progress: 100, desc: "C3 â†’ I1" }
            ]
        };

        function renderProtocolPanel() {
            const container = document.getElementById('protocol-content');
            if (!container) return;

            let html = '';

            // 1. Claim Sync
            html += '<div class="protocol-item"><div class="protocol-label">1. CLAIM VERSION SYNC <span style="color:var(--state-locked)">â—</span></div>';
            html += '<div class="claim-sync-box">';
            protocolData.claims.forEach(c => {
                html += `<div style="margin-bottom:4px"><span style="color:#d29922">${c.name}</span>: <span class="sync-badge">SYNC âœ“</span></div>`;
            });
            html += '</div></div>';

            // 2. PC State
            html += '<div class="protocol-item"><div class="protocol-label">2. IMTEC STATE (113/113 Â¶)</div>';
            protocolData.pcStates.forEach(pc => {
                let color = 'var(--state-locked)';

                html += `
                <div class="pc-row">
                    <div class="pc-id">${pc.id}</div>
                    <div class="pc-bar-container">
                        <div class="pc-bar" style="width:${pc.progress}%; background:${color}"></div>
                    </div>
                    <div class="pc-status" style="color:${color}">${pc.state}</div>
                </div>`;
            });
            html += '</div>';

            container.innerHTML = html;
        }

        window.addEventListener('load', setupMatrixInteraction);
        window.addEventListener('load', renderProtocolPanel);
        window.addEventListener('resize', drawFullTree);
    </script>
    <style>
        @keyframes dash {
            to {
                stroke-dashoffset: 0;
            }
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <header>
        <div style="padding-left: 20px;">
            <h1>Thesis D.934 <span style="font-size:0.7em; opacity:0.5;">| IMTEC Governance</span></h1>
        </div>
        <div class="stats" style="padding-right: 20px;">
            <div class="stat-item"
                style="border-color:var(--fire-red); background:rgba(255, 123, 114, 0.1); color:var(--fire-red); font-weight:600;">
                PROBLEM ğŸšª SOLUTION</div>
            <div class="stat-item" style="border-color:var(--earth-yellow)">M: dG/dM > 0</div>
            <div class="stat-item" style="border-color:var(--metal-white)">T: dM/dE < 0</div>
            <div class="stat-item" style="border-color:var(--water-blue)">E: Escape</div>
                    <button class="btn" onclick="drawFullTree()">ğŸ” Reset View</button>
            </div>
    </header>

    <div class="workspace">
        <svg id="connections"></svg>

        <div class="main-grid">
            <!-- I: Introduction -->
            <div class="module-column mod-i">
                <div class="module-header">Introduction</div>
                <div class="killer-figure">
                    <img src="../papers_v3/1_I_introduction/fig_i_cash_paradox.png" alt="Funding Paradox" onclick="window.open(this.src)">
                    <div class="caption">dG/dE < 0 (rho=-0.174***)</div>
                </div>
                <div class="submodules-list">
                    <div id="card-I1" class="submodule-card strategic-anchor role-gm"
                        onclick="toggleExpand(event, this)">
                        <span class="sm-range">Â¶1-11</span><span class="sm-id">I1</span><span class="sm-focus">Funding
                            Paradox</span>
                        <div class="agent-context">
                            <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                <b>Â¶01:</b> ìë³¸â†’ëª°ì…â†’ì„±ì¥? ì´ë¡ ê³¼ ì‹¤ë¬´ì˜ ê°€ì •<br>
                                <b>Â¶02:</b> ë°˜ëŒ€ë¡œ ë°œê²¬: íˆ¬ì ë§ì„ìˆ˜ë¡ ì„±ì¥ë¥  ë‚®ìŒ<br>
                                <b>Â¶03:</b> ì™œ? ë‹µì€ "ì›€ì§ì„(M)"ì— ìˆìŒ<br>
                                <b>Â¶04:</b> í•µì‹¬ ë¶„í•´: ì„±ì¥ = ì›€ì§ì„íš¨ê³¼ Ã— í€ë”©íš¨ê³¼<br>
                                <b>Â¶05:</b> ì„¸ ë³€ìˆ˜ ì •ì˜: E(í€ë”©), M(ì›€ì§ì„), G(ì„±ì¥)<br>
                                <b>Â¶06:</b> ì›€ì§ì„ â‰  ë§‰ í”¼ë²—. ì¦ê±° ê¸°ë°˜ ì¬ë°°ì¹˜<br>
                                <b>Â¶07:</b> ê¸°ì¡´ ì´ë¡ ì˜ ì˜ˆì¸¡: ë¨¸ë¬¸ ìê°€ ì´ê¸´ë‹¤<br>
                                <b>Â¶08:</b> ë‚´ ë°œê²¬: ì›€ì§ì¸ ìê°€ 1.8ë°° ìƒì¡´<br>
                                <b>Â¶09:</b> ì„¸ ìœ í˜•: ë¨¸ë¬¸ì, ì¤Œì¸, ì¤Œì•„ì›ƒ<br>
                                <b>Â¶10:</b> ì–‘ ê·¹ë‹¨ì—ì„œ í•¨ì • ë°œìƒ<br>
                                <b>Â¶11:</b> ì²˜ë°©: ì•½ì† ì•„ë‹Œ ì›€ì§ì„ì— ëª°ì…í•˜ë¼
                            </div>
                            <div class="action-bar"><button class="btn"
                                    onclick="openFile('1_P_paradox/P1.md')">Draft</button></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- M: Movement -->
            <div class="module-column mod-m">
                <div class="module-header">Movement (What)</div>
                <div class="killer-figure">
                    <img src="figures/M_fig5_killer_movement.png" alt="Movement Principle" onclick="window.open(this.src)">
                    <div class="caption">dG/dM > 0 (2.6x mover advantage)</div>
                </div>
                <div class="submodules-list">
                    <div id="card-M1" class="submodule-card" onclick="toggleExpand(event, this)">
                        <span class="sm-range">Â¶12-20</span><span class="sm-id">M1</span><span class="sm-focus">Strategy
                            Gospel<br><span style="opacity:0.7; font-size:0.8em">(Van den Steen)</span></span>
                        <div class="agent-context">
                            <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                <b>Â¶12:</b> VdS: ëª°ì…ì´ ì¡°ì • ê°€ì¹˜ë¥¼ ë§Œë“ ë‹¤<br>
                                <b>Â¶13:</b> ê·¸ ë…¼ë¦¬: ì¬ë°°ì¹˜í•˜ë©´ ì¡°ì • ê°€ì¹˜ íŒŒê´´<br>
                                <b>Â¶14:</b> VdS ê°€ì •: ëª°ì…í•œ ìœ„ì¹˜ê°€ ë§ë‹¤<br>
                                <b>Â¶15:</b> ë‚´ ì œì•ˆ: ë©”ì»¤ë‹ˆì¦˜ì€ ë§ì§€ë§Œ ë²”ìœ„ê°€ ë‹¤ë¦„<br>
                                <b>Â¶16:</b> M = |Î”V| ë¡œ ì›€ì§ì„ ì •ì˜<br>
                                <b>Â¶17:</b> ì›€ì§ì„ = ì¦ê±° ê¸°ë°˜ ì—…ë°ì´íŠ¸<br>
                                <b>Â¶18:</b> ì„¸ ìœ í˜•: ë¨¸ë¬¸ì, ì¤Œì¸, ì¤Œì•„ì›ƒ<br>
                                <b>Â¶19:</b> dG/dM>0ì´ë©´ VdS í™•ì¥, ë¶•ê´´ ì•„ë‹˜<br>
                                <b>Â¶20:</b> ì‹¤ì¦ ì§ˆë¬¸ì´ ëª…í™•í•´ì§
                            </div>
                            <div class="action-bar"><button class="btn"
                                    onclick="openFile('2_M_movement_matters/M1.md')">Draft</button></div>
                        </div>
                    </div>
                    <div id="card-M2" class="submodule-card" onclick="toggleExpand(event, this)">
                        <span class="sm-range">Â¶21-29</span><span class="sm-id">M2</span><span
                            class="sm-focus">Empirics</span>
                        <div class="agent-context">
                            <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                <b>Â¶21:</b> VdS ì˜ˆì¸¡: ë¨¸ë¬¸ ìê°€ ì´ê¸´ë‹¤<br>
                                <b>Â¶22:</b> ì¸¡ì •: M=|Î”V|, G=í›„ê¸°VCë„ë‹¬<br>
                                <b>Â¶23:</b> í•µì‹¬ ë°œê²¬: ì›€ì§ì¸ ì 1.8ë°° ìƒì¡´<br>
                                <b>Â¶24:</b> íšŒê·€ í™•ì¸: +1SD M â†’ +7.3pp ìƒì¡´<br>
                                <b>Â¶25:</b> ë°©í–¥ë„ ì¤‘ìš”: ì¤Œì¸ 17.5%, ì¤Œì•„ì›ƒ 18.4%<br>
                                <b>Â¶26:</b> ë©”ì»¤ë‹ˆì¦˜ ì•„ë‹Œ ë²”ìœ„ì— ë„ì „<br>
                                <b>Â¶26a:</b> ì™œ Porterê°€ ì•„ë‹Œ VdSì¸ê°€?<br>
                                <b>Â¶27:</b> ëŒ€ì•ˆì„¤ëª…: ì›€ì§ì¸ ìê°€ ì›ë˜ ë” ë˜‘ë˜’?<br>
                                <b>Â¶28:</b> í•™ìŠµì´ í”„ë¡ì‹œ? ê·¸ê²Œ ë°”ë¡œ ë©”ì»¤ë‹ˆì¦˜<br>
                                <b>Â¶29:</b> ì›€ì§ì„ ì›ë¦¬(dG/dM>0) í™•ë¦½
                            </div>
                            <div class="action-bar"><button class="btn"
                                    onclick="openFile('2_M_movement_matters/M2.md')">Draft</button></div>
                        </div>
                    </div>
                    <!-- BRIDGE -->
                    <div id="card-M3" class="submodule-card strategic-anchor role-pm"
                        onclick="toggleExpand(event, this)">
                        <span class="sm-range">Â¶30</span><span class="sm-id">M3</span><span class="sm-focus"
                            style="color:var(--earth-yellow)">BRIDGE</span>
                        <div class="agent-context">
                            <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                <b>Â¶30:</b> í€ë”© ì—­ì„¤ì€ ë‘ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì£¼ì¥ìœ¼ë¡œ ë¶„í•´
                            </div>
                            <div class="action-bar"><button class="btn"
                                    onclick="openFile('2_M_movement_matters/M3.md')">Draft</button></div>
                        </div>
                    </div>
                    <div id="card-M4" class="submodule-card" onclick="toggleExpand(event, this)">
                        <span class="sm-range">Â¶31-39</span><span class="sm-id">M4</span><span class="sm-focus">Bayesian
                            Gospel<br><span style="opacity:0.7; font-size:0.8em">(Camuffo, Nanda)</span></span>
                        <div class="agent-context">
                            <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                <b>Â¶31:</b> ì°½ì—…=ì‹¤í—˜. Camuffoê°€ í˜•ì‹í™”<br>
                                <b>Â¶32:</b> í…ŒìŠ¤íŠ¸: ìë³¸â†’ì‹¤í—˜ì´ë©´ dM/dE>0<br>
                                <b>Â¶33:</b> ë°˜ëŒ€ ë°œê²¬: í€ë”©ì´ ì›€ì§ì„ ì–µì œ<br>
                                <b>Â¶34:</b> í‹€ë¦° ê²Œ ì•„ë‹ˆë¼ ë¶ˆì™„ì „í•œ ê²ƒ<br>
                                <b>Â¶35:</b> ìë³¸â†’ëª°ì… ê²½ë¡œ: ì‹¬ë¦¬/êµ¬ì¡°/ì‚¬íšŒ<br>
                                <b>Â¶36:</b> ì˜ˆì‹œ: $5M íˆ¬ìë°›ì€ ì°½ì—…ì<br>
                                <b>Â¶37:</b> ì‹¤í—˜ì°½ì—… í™•ì¥: ìë³¸ì€ ê°€ëŠ¥ì¼€ í•˜ë‚˜ ëª°ì…ì´ ë§‰ìŒ<br>
                                <b>Â¶38:</b> ì´ì§ˆì„±: ëª°ì… ê°•í• ìˆ˜ë¡ íš¨ê³¼ ê°•í•¨<br>
                                <b>Â¶39:</b> M5ì—ì„œ í•µì‹¬ ì£¼ì¥ í…ŒìŠ¤íŠ¸
                            </div>
                            <div class="action-bar"><button class="btn"
                                    onclick="openFile('2_M_movement_matters/M4.md')">Draft</button></div>
                        </div>
                    </div>
                        <div id="card-M5" class="submodule-card" onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶40-48</span><span class="sm-id">M5</span><span
                                class="sm-focus">Empirics</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶40:</b> í€ë”©ì´ ì›€ì§ì„ ì–µì œí•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸<br>
                                    <b>Â¶41:</b> PitchBook 40ë§Œ ë²¤ì²˜ ë°ì´í„°<br>
                                    <b>Â¶42:</b> í•µì‹¬: +1SDí€ë”© â†’ -0.4SDì›€ì§ì„<br>
                                    <b>Â¶43:</b> ì¸ê³¼ì‹ë³„: í€ë”© ì¶©ê²© í™œìš©<br>
                                    <b>Â¶44:</b> ë©”ì»¤ë‹ˆì¦˜: ëª°ì…ë”œì—ì„œ 2ë°° ê°•í•¨<br>
                                    <b>Â¶45:</b> íƒ€ì´ë°: ì´ˆê¸°ì¼ìˆ˜ë¡ íš¨ê³¼ ê°•í•¨<br>
                                    <b>Â¶46:</b> íŒ¨í„´ì´ ëª°ì…-ì‹¤í—˜ì œì•½ê³¼ ì¼ì¹˜<br>
                                    <b>Â¶47:</b> ìš”ì•½: í€ë”©í•¨ì • ì‹¤ì¦ í™•ì¸<br>
                                    <b>Â¶48:</b> Camuffo-Nanda í™•ì¥ ì™„ë£Œ
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('2_M_movement_matters/M5.md')">Draft</button></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- T: Traps -->
                <div class="module-column mod-t">
                    <div class="module-header">Traps (How)</div>
                    <div class="killer-figure">
                        <img src="figures/T_fig1_trap_mechanism.png" alt="Trap Mechanism" onclick="window.open(this.src)">
                        <div class="caption">dM/dE < 0 (Golden Cage vs Wild West)</div>
                    </div>
                    <div class="submodules-list">
                        <div id="card-T1" class="submodule-card" onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶49-56</span><span class="sm-id">T1</span><span class="sm-focus">Coords</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶49:</b> í€ë”©í•¨ì •ì€ ë‘ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ì‘ë™<br>
                                    <b>Â¶50:</b> í•¨ì • = ê²°ê³¼ì‹¤íŒ¨ ì•„ë‹Œ ê³¼ì •ì‹¤íŒ¨<br>
                                    <b>Â¶51:</b> Vì˜ ì–‘ ê·¹ë‹¨ì—ì„œ í•¨ì • ë°œìƒ<br>
                                    <b>Â¶52:</b> í•™ìŠµì¡°ê±´: Î¼(1âˆ’Î¼) < Îµ/V<br>
                                    <b>Â¶53:</b> í€ë”©ì´ ë‘ ê²½ë¡œë¡œ í•¨ì • ê°€ì†<br>
                                    <b>Â¶54:</b> ê° ë©”ì»¤ë‹ˆì¦˜ì€ ê³ ìœ  ì‹œê·¸ë‹ˆì²˜<br>
                                    <b>Â¶55:</b> EÃ—E í–‰ë ¬ì´ í•¨ì •í™•ë¥  ë§¤í•‘<br>
                                    <b>Â¶56:</b> T2-T3ì—ì„œ ê° ë©”ì»¤ë‹ˆì¦˜ ìƒì„¸
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('3_T_funding_traps/T1.md')">Draft</button></div>
                            </div>
                        </div>
                        <div id="card-T2" class="submodule-card" onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶57-64</span><span class="sm-id">T2</span><span class="sm-focus">High-V Trap</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶57:</b> High-V = ë°˜ì¦ë¶ˆê°€ë¡œ ì‘ë™<br>
                                    <b>Â¶58:</b> í•™ìŠµì¡°ê±´: Î¼(1âˆ’Î¼) < Îµ/V<br>
                                    <b>Â¶59:</b> High-V ì°½ì—…ìëŠ” ë¯¿ìŒ ê³µìœ  íˆ¬ìì ìœ ì¹˜<br>
                                    <b>Â¶60:</b> ìœ ì—°ì„± ì—­ì„¤: ì˜µì…˜ì€ ë³´ì¡´, í•™ìŠµì€ ì°¨ë‹¨<br>
                                    <b>Â¶61:</b> ë©”ì»¤ë‹ˆì¦˜: ë‚´ë¶€ + ì™¸ë¶€<br>
                                    <b>Â¶62:</b> ë°ì´í„°: High-VëŠ” ì¼ì¹˜â†‘ ì›€ì§ì„â†“<br>
                                    <b>Â¶63:</b> ì¤Œì¸í•´ì•¼ í•˜ë‚˜ íˆ¬ììê°€ ëª¨í˜¸í•¨ì— ë³´ìƒ<br>
                                    <b>Â¶64:</b> íƒˆì¶œ: í€ë”© ì „ êµ¬ì²´í™” ê°•ì œ
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('3_T_funding_traps/T2.md')">Draft</button></div>
                            </div>
                        </div>
                        <div id="card-T3" class="submodule-card" onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶65-72</span><span class="sm-id">T3</span><span class="sm-focus">Low-V Trap</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶65:</b> Low-V = ëª°ì… ê³ ì°©ìœ¼ë¡œ ì‘ë™<br>
                                    <b>Â¶66:</b> Staw(1976) ì—ìŠ¤ì»¬ë ˆì´ì…˜ ì—°êµ¬<br>
                                    <b>Â¶67:</b> ì—ì½”ì±”ë²„ê°€ ìì—° í˜•ì„±<br>
                                    <b>Â¶68:</b> í•™ìŠµì¡°ê±´: Vâ†“ â†’ ì„ê³„ê°’â†‘, ë¶„ì‚°â†’0<br>
                                    <b>Â¶69:</b> ë°ì´í„°ê°€ íŒ¨í„´ í™•ì¸<br>
                                    <b>Â¶70:</b> ì˜ˆì‹œ: ë°”ì´ì˜¤í…, ë”¥í…Œí¬<br>
                                    <b>Â¶71:</b> ì„±ê³µì²˜ëŸ¼ ë³´ì—¬ì„œ ë” ìœ„í—˜<br>
                                    <b>Â¶72:</b> íƒˆì¶œ: í€ë”© ì „ ë¯¿ìŒ ë‹¤ì–‘ì„± í™•ë³´
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('3_T_funding_traps/T3.md')">Draft</button></div>
                            </div>
                        </div>
                        <div id="card-T4" class="submodule-card" onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶73-80</span><span class="sm-id">T4</span><span class="sm-focus">Synthesis</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶73:</b> ì–‘ ê·¹ë‹¨ ëª¨ë‘ í•¨ì •ì— ë¹ ëœ¨ë¦¼<br>
                                    <b>Â¶74:</b> í†µí•© í•¨ì • ë°©ì •ì‹: Î¼(1âˆ’Î¼) < Îµ/V<br>
                                    <b>Â¶75:</b> í€ë”©ì´ ì–‘ìª½ í•¨ì •ì„ ê°€ì†<br>
                                    <b>Â¶76:</b> dM/dE < 0 ë©”ì»¤ë‹ˆì¦˜ ì™„ì„±<br>
                                    <b>Â¶77:</b> ì‚°ì—…ë³„ íŒ¨í„´ ë°ì´í„°<br>
                                    <b>Â¶78:</b> ë¨¸ë¬¸ì ìœ í˜•: ë‘ ê°€ì§€ ê¸°ì›<br>
                                    <b>Â¶79:</b> íƒˆì¶œ ì²˜ë°©: High-Vâ†’êµ¬ì²´í™”, Low-Vâ†’ë‹¤ì–‘í™”<br>
                                    <b>Â¶80:</b> í€ë”© ì—­ì„¤ ì„¤ëª… ì™„ë£Œ
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('3_T_funding_traps/T4.md')">Draft</button></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- E: Escape -->
                <div class="module-column mod-e">
                    <div class="module-header">Escape (Who)</div>
                    <div class="killer-figure">
                        <img src="../papers_v3/4_T_commit2trap/fig_V_trajectories_by_archetype.png" alt="V Trajectories" onclick="window.open(this.src)">
                        <div class="caption">Movement is escape â€” both paths work</div>
                    </div>
                    <div class="submodules-list">
                        <div id="card-E1" class="submodule-card strategic-anchor role-pm"
                            onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶81-86</span><span class="sm-id">E1</span><span class="sm-focus"
                                style="color:var(--water-blue)">TEMPO</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶81:</b> ìƒˆ ì´í•´ë¡œ í€ë”©ì—­ì„¤ì— ê·€í™˜<br>
                                    <b>Â¶82:</b> ì„¤ëª… â‰  ì²˜ë°©<br>
                                    <b>Â¶83:</b> ì„¸ íŒ¨í„´: ë¨¸ë¬¸ì, ì¤Œì¸, ì¤Œì•„ì›ƒ<br>
                                    <b>Â¶84:</b> íƒˆì¶œ ì²˜ë°© = í•¨ì • ì§„ë‹¨ì—ì„œ ë„ì¶œ<br>
                                    <b>Â¶85:</b> ëª¨ë¹Œë¦¬í‹° = High-V í•¨ì • ì˜ˆì‹œ<br>
                                    <b>Â¶86:</b> ì¼ë¶€ ë²¤ì²˜ëŠ” íƒˆì¶œ ì„±ê³µ
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('4_E_escape/E1.md')">Draft</button></div>
                            </div>
                        </div>
                        <div id="card-E2" class="submodule-card" onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶87-92</span><span class="sm-id">E2</span><span class="sm-focus">Stayer</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶87:</b> ì°¨ì´ëŠ” ëª°ì… êµ¬ì¡°. ìë³¸=ì •ì²´ì„± ê³„ì•½<br>
                                    <b>Â¶88:</b> <span style="color:#ff7b72">Rubedos</span> = Grant lock-in (EUê¸°ê¸ˆâ†’Î”V=0)<br>
                                    <b>Â¶89:</b> <span style="color:#ff7b72">Motional</span> = Corporate lock-in ($4B JV)<br>
                                    <b>Â¶90:</b> <span style="color:#ff7b72">TuSimple</span> = Public lock-in (IPOâ†’ë¶•ê´´)<br>
                                    <b>Â¶91:</b> ì„¸ ë©”ì»¤ë‹ˆì¦˜ = ê°™ì€ ê²°ê³¼: Mâ‰ˆ0<br>
                                    <b>Â¶92:</b> ë¨¸ë¬´ë¦„ = ì „ëµ ì•„ë‹Œ ì¦ìƒ
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('4_E_escape/E2.md')">Draft</button></div>
                            </div>
                        </div>
                        <div id="card-E3" class="submodule-card" onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶93-98</span><span class="sm-id">E3</span><span class="sm-focus">Mover</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶93:</b> ë‘ íŒ¨í„´: Agile mover vs Forced mover<br>
                                    <b>Â¶94:</b> <span style="color:#3fb950">Sky Engine</span> = Agile (ì ì€í€ë”©â†’Î”V=+60.7â†’G=216Ã—)<br>
                                    <b>Â¶95:</b> <span style="color:#3fb950">Nuro</span> = Forced ($2.1Bâ†’ìœ„ê¸°â†’í”¼ë²—)<br>
                                    <b>Â¶96:</b> ê°™ì€ ì›ë¦¬(M>0), ë‹¤ë¥¸ ê²½ë¡œ<br>
                                    <b>Â¶97:</b> ë¹„ê²°: ê¸°ëŒ€ ê´€ë¦¬ (Aurora=ê²½ê³„ì¡°ê±´)<br>
                                    <b>Â¶98:</b> ì²˜ë°©: ì ì€í€ë”© ìœ ì§€ ë˜ëŠ” ìœ„ê¸° ê°ìˆ˜
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('4_E_escape/E3.md')">Draft</button></div>
                            </div>
                        </div>
                        <div id="card-E4" class="submodule-card strategic-anchor"
                            onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶99-104</span><span class="sm-id">E4</span><span class="sm-focus">Synthesis</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶99:</b> ë‘ ê²½ë¡œ: ë¹„ìš©ê³¼ íƒ€ì´ë°ì´ ë‹¤ë¦„<br>
                                    <b>Â¶100:</b> <span style="color:#3fb950">Agile</span> = ì ì€í€ë”© ìœ ì§€ â†’ ìë°œì  í”¼ë²— (Sky Engine)<br>
                                    <b>Â¶101:</b> <span style="color:#ff7b72">Forced</span> = ë§ì€í€ë”© ê³ ì°© â†’ ìœ„ê¸° í›„ í”¼ë²— (Nuro)<br>
                                    <b>Â¶102:</b> ê²½ë¡œ = í€ë”© ë‹¨ê³„ì— ë”°ë¼ ê²°ì •<br>
                                    <b>Â¶103:</b> Aurora = ê²½ê³„ì¡°ê±´ (ë§ì€í€ë”© + ê¸°ëŒ€ê´€ë¦¬)<br>
                                    <b>Â¶104:</b> ì²˜ë°©: Eì§„ë‹¨ â†’ ê²½ë¡œì„ íƒ â†’ ì´í•´ê´€ê³„ì ì˜ì…
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('4_E_escape/E4.md')">Draft</button></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- C: Commit -->
                <div class="module-column mod-c">
                    <div class="module-header">Commit</div>
                    <div class="killer-figure">
                        <img src="figures/C_fig1_prescription.png" alt="Prescription by Archetype" onclick="window.open(this.src)">
                        <div class="caption">Commit to Move â€” prescription by archetype</div>
                    </div>
                    <div class="submodules-list">
                        <div id="card-C1" class="submodule-card" onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶105-108</span><span class="sm-id">C1</span><span class="sm-focus">Implications</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶105:</b> [ì°½ì—…ì] í•™ìŠµ ê°€ì†í•˜ë ¤ ìê¸ˆ ë°›ì•˜ì§€ë§Œ...<br>
                                    <b>Â¶106:</b> [ì°½ì—…ì] ê°€ì„¤: ë‚´ë¶€ë‚˜ì¹¨ë°˜ê³¼ ì™¸ë¶€í”¼ì¹˜ ë¶„ë¦¬<br>
                                    <b>Â¶107:</b> [íˆ¬ìì] í™•ì‹ ì¼ì¹˜ = ê°•ì  ì•„ë‹Œ ë¦¬ìŠ¤í¬<br>
                                    <b>Â¶108:</b> [íˆ¬ìì] í”¼ë²— í—ˆìš© ì¡°ê±´ìœ¼ë¡œ êµ¬ì¡°í™”
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('5_C_commit/C1.md')">Draft</button></div>
                            </div>
                        </div>
                        <div id="card-C2" class="submodule-card" onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶109-112</span><span class="sm-id">C2</span><span class="sm-focus">Limitations</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶109:</b> í•œê³„: ì„ íƒí¸í–¥ (ì„±ê³µ ì¤Œì¸ì´ ë°ì´í„°ì—ì„œ ì¡¸ì—…)<br>
                                    <b>Â¶110:</b> í•œê³„: ì¼ë°˜í™” (ëª¨ë¹Œë¦¬í‹°â†’ë‹¤ë¥¸ ì‚°ì—…?)<br>
                                    <b>Â¶111:</b> ìƒˆ ë¬¸ì œ: VC ê´€í–‰ ì¬êµ¬ì¡°í™” í•„ìš”<br>
                                    <b>Â¶112:</b> ìƒˆ ë¬¸ì œ: í•¨ì • í˜•ì„± ì „ íƒì§€ ê°€ëŠ¥?
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('5_C_commit/C2.md')">Draft</button></div>
                            </div>
                        </div>
                        <div id="card-C3" class="submodule-card strategic-anchor role-pm"
                            onclick="toggleExpand(event, this)">
                            <span class="sm-range">Â¶113</span><span class="sm-id">C3</span><span class="sm-focus">CODA</span>
                            <div class="agent-context">
                                <div style="font-size:0.75rem; color:#8b949e; margin-bottom:8px;">
                                    <b>Â¶113:</b> ê¸°ì—¬ 3ì¸µ:<br>
                                    &nbsp;&nbsp;L1: M=|Î”V|, dG/dM>0, dM/dE< 0<br>
                                    &nbsp;&nbsp;L2: ì„±ì¥=ì›€ì§ì„íš¨ê³¼Ã—í€ë”©íš¨ê³¼<br>
                                    &nbsp;&nbsp;L3: í•™ìŠµí•¨ì • ì¡°ê±´<br>
                                    <b style="color:#d29922">å¿…æ­»å½ç”Ÿ, å¿…ç”Ÿå½æ­»</b><br>
                                    <span style="font-size:0.65rem">ì•½ì† ì•„ë‹Œ ì›€ì§ì„ì— ëª°ì…í•˜ë¼</span>
                                </div>
                                <div class="action-bar"><button class="btn"
                                        onclick="openFile('5_C_commit/C3.md')">Draft</button></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="side-panel">
                <div class="protocol-section">
                    <div class="panel-header">PROTOCOL MONITOR</div>
                    <div id="protocol-content">
                        <!-- JS Injected -->
                    </div>
                </div>

                <div class="registry-section">
                    <div class="panel-header">M-T-E ëª¨ë“ˆ (Two Rooms + Door)</div>
                    <table class="registry-table">
                        <thead>
                            <tr>
                                <th>Room</th>
                                <th>Module</th>
                                <th>Claim</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="background:rgba(255, 123, 114, 0.15)">
                                <td rowspan="2" style="font-weight:bold; color:var(--fire-red)">ğŸ <br>PROBLEM</td>
                                <td><b>M</b> (I1=M3â†’M12,M45)</td>
                                <td style="color:var(--earth-yellow)">dG/dM > 0</td>
                            </tr>
                            <tr style="background:rgba(255, 123, 114, 0.08)">
                                <td><b>T</b> (T1234)</td>
                                <td style="color:var(--metal-white)">dM/dE < 0</td>
                            </tr>
                            <tr style="background:rgba(88, 166, 255, 0.15)">
                                <td style="font-weight:bold; color:var(--water-blue)">ğŸšª<br>DOOR</td>
                                <td><b>E1</b> (Tempo)</td>
                                <td>Problem â†’ Solution</td>
                            </tr>
                            <tr style="background:rgba(63, 185, 80, 0.15)">
                                <td rowspan="2" style="font-weight:bold; color:var(--wood-green)">ğŸ <br>SOLUTION</td>
                                <td><b>E</b> (E234â†’C1)</td>
                                <td>Agile vs Forced</td>
                            </tr>
                            <tr style="background:rgba(63, 185, 80, 0.08)">
                                <td><b>C3â†’I1</b> (Loop)</td>
                                <td style="color:var(--wood-green)">å¿…æ­»å½ç”Ÿ</td>
                            </tr>
                            <tr style="background:rgba(139, 148, 158, 0.1)">
                                <td style="color:var(--text-secondary)">ğŸªŸ<br>WINDOW</td>
                                <td><b>C2</b></td>
                                <td>Limitations</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="patch-queue">
                    <div class="panel-header">M-T-E One-Liner</div>
                    <div class="patch-item" style="border-left: 3px solid var(--earth-yellow)">
                        <div class="patch-agent" style="color:var(--earth-yellow)">M: Movement</div>
                        <div>ì›€ì§ì´ë©´ ë” ì˜ ìë€ë‹¤ (dG/dM > 0)</div>
                    </div>
                    <div class="patch-item" style="border-left: 3px solid var(--metal-white)">
                        <div class="patch-agent" style="color:var(--metal-white)">T: Traps</div>
                        <div>í€ë”© ë°›ìœ¼ë©´ ëœ ì›€ì§ì¸ë‹¤ (dM/dE < 0)</div>
                    </div>
                    <div class="patch-item" style="border-left: 3px solid var(--water-blue)">
                        <div class="patch-agent" style="color:var(--water-blue)">E: Escape</div>
                        <div>Agile Path vs Forced Path</div>
                    </div>
                    <div class="patch-item" onclick="openFile('ARCHITECTURE.md')">
                        <div class="patch-agent">ğŸ“</div>
                        <div>View Full Architecture</div>
                    </div>
                </div>
            </div>
        </div>
</body>

</html>
